---
marp: true
theme: am_blue
paginate: true
math: katex
headingDivider: [2,3,4,5]
backgroundColor: #D0E8D6DA
---
在你的代码里,组件渲染是直接写在 switch 语句里的。让我修正一下完整的模板代码:

```javascript
const createBasicPage = (components = []) => {
  const importStatements = components.map(name =>
    `import ${name} from "../components/${name}";`
  ).join('\n');

  const basicPageContent = `"use client";
import { useState } from "react";
import { Home, Info, Phone, Folder, Trash2 } from "lucide-react";
${importStatements}

const Sidebar = ({ currentComponent, setCurrentComponent }) => {
  // ... Sidebar 代码保持不变 ...
};

export default function Page() {
  const [currentComponent, setCurrentComponent] = useState("Home");

  const renderComponent = () => {
    switch (currentComponent) {
      case "Home":
        return <div className="h-full w-full p-4 text-lg">这是首页组件</div>;
      ${components.map(name => `
      case "${name}":
        return (
          <div className="h-full w-full">
            <${name} />
          </div>
        );`).join('\n')}
      default:
        return <div className="h-full w-full p-4 text-lg">未知组件</div>;
    }
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <Sidebar
        currentComponent={currentComponent}
        setCurrentComponent={setCurrentComponent}
      />
      <main className="h-[calc(100vh-2rem)] ml-16 p-8">
        {renderComponent()}
      </main>
    </div>
  );
}
`;

  fs.writeFileSync(pagePath, basicPageContent, 'utf-8');
  console.log('已创建基础版的 page.tsx');
};
```

关键修改:
1. 移除了组件渲染部分的宽度限制 (`max-w-4xl` 等)
2. 为每个组件添加了 `h-full w-full` 容器
3. 修改了 main 元素的高度为 `h-[calc(100vh-2rem)]`

这样,page.tsx 就会为每个组件提供完整的容器空间,让组件自己决定如何使用这个空间。当你运行 setup-claude.mjs 脚本时,它会用这个新模板生成更新后的 page.tsx。